{"ast":null,"code":"var _jsxFileName = \"/Users/ago/rails-react-app/frontend/src/components/pages/Home.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport Box from \"@material-ui/core/Box\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { AuthContext } from \"App\";\nimport { prefectures } from \"data/prefectures\";\nimport { signOut } from \"lib/api/auth\";\nimport { updateUser } from \"lib/api/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    width: theme.spacing(10),\n    height: theme.spacing(10)\n  },\n  card: {\n    width: 340\n  },\n  imageUploadBtn: {\n    textAlign: \"right\"\n  },\n  input: {\n    display: \"none\"\n  },\n  box: {\n    marginBottom: \"1.5rem\"\n  },\n  preview: {\n    width: \"100%\"\n  }\n})); // ホーム（マイページ）\n\nconst Home = () => {\n  _s();\n\n  const {\n    isSignedIn,\n    setIsSignedIn,\n    currentUser,\n    setCurrentUser\n  } = useContext(AuthContext);\n  const classes = useStyles();\n  const histroy = useHistory();\n  const [editFormOpen, setEditFormOpen] = useState(false);\n  const [name, setName] = useState(currentUser === null || currentUser === void 0 ? void 0 : currentUser.name);\n  const [prefecture, setPrefecture] = useState((currentUser === null || currentUser === void 0 ? void 0 : currentUser.prefecture) || 0);\n  const [profile, setProfile] = useState(currentUser === null || currentUser === void 0 ? void 0 : currentUser.profile);\n  const [image, setImage] = useState(\"\");\n  const [preview, setPreview] = useState(\"\"); // アップロードした画像の情報を取得\n\n  const uploadImage = useCallback(e => {\n    const file = e.target.files[0];\n    setImage(file);\n  }, []); // 画像プレビュー\n\n  const previewImage = useCallback(e => {\n    const file = e.target.files[0];\n    setPreview(window.URL.createObjectURL(file));\n  }, []); // 生年月日から年齢を計算する 年齢 = floor((今日 - 誕生日) / 10000)\n\n  const currentUserAge = () => {\n    const birthday = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.birthday.toString().replace(/-/g, \"\")) || \"\";\n    if (birthday.length !== 8) return;\n    const date = new Date();\n    const today = date.getFullYear() + (\"0\" + (date.getMonth() + 1)).slice(-2) + (\"0\" + date.getDate()).slice(-2);\n    return Math.floor((parseInt(today) - parseInt(birthday)) / 10000);\n  }; // 都道府県\n\n\n  const currentUserPrefecture = () => {\n    return prefectures[((currentUser === null || currentUser === void 0 ? void 0 : currentUser.prefecture) || 0) - 1];\n  };\n\n  const createFormData = () => {\n    const formData = new FormData();\n    formData.append(\"name\", name || \"\");\n    formData.append(\"prefecture\", String(prefecture));\n    formData.append(\"profile\", profile || \"\");\n    formData.append(\"image\", image);\n    return formData;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = createFormData();\n\n    try {\n      const res = await updateUser(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id, data);\n      console.log(res);\n\n      if (res.status === 200) {\n        setEditFormOpen(false);\n        setCurrentUser(res.data.user);\n        console.log(\"Update user successfully!\");\n      } else {\n        console.log(res.data.message);\n      }\n    } catch (err) {\n      console.log(err);\n      console.log(\"Failed in updating user!\");\n    }\n  }; // サインアウト用の処理\n\n\n  const handleSignOut = async e => {\n    try {\n      const res = await signOut();\n\n      if (res.data.success === true) {\n        // Cookieから各情報を削除\n        Cookies.remove(\"_access_token\");\n        Cookies.remove(\"_client\");\n        Cookies.remove(\"_uid\");\n        setIsSignedIn(false);\n        histroy.push(\"/signin\");\n        console.log(\"Succeeded in sign out\");\n      } else {\n        console.log(\"Failed in sign out\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isSignedIn && currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: classes.card,\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"flex-end\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => setEditFormOpen(true),\n                children: /*#__PURE__*/_jsxDEV(SettingsIcon, {\n                  color: \"action\",\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                alt: \"avatar\",\n                src: currentUser === null || currentUser === void 0 ? void 0 : currentUser.image.url,\n                className: classes.avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              style: {\n                marginTop: \"1.5rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                component: \"p\",\n                gutterBottom: true,\n                children: [currentUser === null || currentUser === void 0 ? void 0 : currentUser.name, \" \", currentUserAge(), \"\\u6B73 (\", currentUserPrefecture(), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                style: {\n                  marginTop: \"0.5rem\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                gutterBottom: true,\n                style: {\n                  marginTop: \"0.5rem\",\n                  fontWeight: \"bold\"\n                },\n                children: \"\\u81EA\\u5DF1\\u7D39\\u4ECB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this), currentUser.profile ? /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                color: \"textSecondary\",\n                children: currentUser.profile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                color: \"textSecondary\",\n                children: \"\\u3088\\u308D\\u3057\\u304F\\u304A\\u9858\\u3044\\u3044\\u305F\\u3057\\u307E\\u3059\\u3002\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: handleSignOut,\n                color: \"primary\",\n                fullWidth: true,\n                startIcon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 34\n                }, this),\n                style: {\n                  marginTop: \"1rem\"\n                },\n                children: \"\\u30B5\\u30A4\\u30F3\\u30A2\\u30A6\\u30C8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        autoComplete: \"off\",\n        children: /*#__PURE__*/_jsxDEV(Dialog, {\n          open: editFormOpen,\n          keepMounted: true,\n          onClose: () => setEditFormOpen(false),\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u306E\\u5909\\u66F4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              required: true,\n              fullWidth: true,\n              label: \"\\u540D\\u524D\",\n              value: name,\n              margin: \"dense\",\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              variant: \"outlined\",\n              margin: \"dense\",\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"demo-simple-select-outlined-label\",\n                children: \"\\u90FD\\u9053\\u5E9C\\u770C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-outlined-label\",\n                id: \"demo-simple-select-outlined\",\n                value: prefecture,\n                onChange: e => setPrefecture(e.target.value),\n                label: \"\\u90FD\\u9053\\u5E9C\\u770C\",\n                children: prefectures.map((prefecture, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: index + 1,\n                  children: prefecture\n                }, index + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              placeholder: \"1000\\u6587\\u5B57\\u4EE5\\u5185\\u3067\\u66F8\\u3044\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\",\n              variant: \"outlined\",\n              multiline: true,\n              fullWidth: true,\n              label: \"\\u81EA\\u5DF1\\u7D39\\u4ECB\",\n              rows: \"8\",\n              value: profile,\n              margin: \"dense\",\n              onChange: e => {\n                setProfile(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.imageUploadBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                accept: \"image/*\",\n                className: classes.input,\n                id: \"icon-button-file\",\n                type: \"file\",\n                onChange: e => {\n                  uploadImage(e);\n                  previewImage(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"icon-button-file\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"primary\",\n                  \"aria-label\": \"upload picture\",\n                  component: \"span\",\n                  children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), preview ? /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.box,\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"inherit\",\n                onClick: () => setPreview(\"\"),\n                children: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: preview,\n                alt: \"preview img\",\n                className: classes.preview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 23\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleSubmit,\n              color: \"primary\",\n              disabled: !name || !profile ? true : false,\n              children: \"\\u9001\\u4FE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n  }, void 0, false);\n};\n\n_s(Home, \"wwv8TLsX70adviaMn2Pjc8DAV84=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/ago/rails-react-app/frontend/src/components/pages/Home.tsx"],"names":["React","useContext","useState","useCallback","useHistory","Cookies","makeStyles","Grid","Typography","Card","CardContent","IconButton","SettingsIcon","Dialog","TextField","DialogActions","DialogContent","DialogTitle","InputLabel","MenuItem","FormControl","Select","PhotoCamera","Box","CancelIcon","ExitToAppIcon","Button","Avatar","Divider","AuthContext","prefectures","signOut","updateUser","useStyles","theme","avatar","width","spacing","height","card","imageUploadBtn","textAlign","input","display","box","marginBottom","preview","Home","isSignedIn","setIsSignedIn","currentUser","setCurrentUser","classes","histroy","editFormOpen","setEditFormOpen","name","setName","prefecture","setPrefecture","profile","setProfile","image","setImage","setPreview","uploadImage","e","file","target","files","previewImage","window","URL","createObjectURL","currentUserAge","birthday","toString","replace","length","date","Date","today","getFullYear","getMonth","slice","getDate","Math","floor","parseInt","currentUserPrefecture","createFormData","formData","FormData","append","String","handleSubmit","preventDefault","data","res","id","console","log","status","user","message","err","handleSignOut","success","remove","push","url","marginTop","fontWeight","value","map","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAAuCC,QAAvC,EAAiDC,WAAjD,QAAoE,OAApE;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,SAASC,UAAT,QAAkC,0BAAlC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,mBAAjC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AAEA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,SAASC,WAAT,QAA4B,KAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAAkBC,UAAlB,QAAoC,eAApC;;;AAGA,MAAMC,SAAS,GAAG3B,UAAU,CAAE4B,KAAD,KAAmB;AAC9CC,EAAAA,MAAM,EAAE;AACNC,IAAAA,KAAK,EAAEF,KAAK,CAACG,OAAN,CAAc,EAAd,CADD;AAENC,IAAAA,MAAM,EAAEJ,KAAK,CAACG,OAAN,CAAc,EAAd;AAFF,GADsC;AAK9CE,EAAAA,IAAI,EAAE;AACJH,IAAAA,KAAK,EAAE;AADH,GALwC;AAQ9CI,EAAAA,cAAc,EAAE;AACdC,IAAAA,SAAS,EAAE;AADG,GAR8B;AAW9CC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE;AADJ,GAXuC;AAc9CC,EAAAA,GAAG,EAAE;AACHC,IAAAA,YAAY,EAAE;AADX,GAdyC;AAiB9CC,EAAAA,OAAO,EAAE;AACPV,IAAAA,KAAK,EAAE;AADA;AAjBqC,CAAnB,CAAD,CAA5B,C,CAsBA;;AACA,MAAMW,IAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,aAAd;AAA6BC,IAAAA,WAA7B;AAA0CC,IAAAA;AAA1C,MAA6DlD,UAAU,CAAC4B,WAAD,CAA7E;AAEA,QAAMuB,OAAO,GAAGnB,SAAS,EAAzB;AACA,QAAMoB,OAAO,GAAGjD,UAAU,EAA1B;AAEA,QAAM,CAACkD,YAAD,EAAeC,eAAf,IAAkCrD,QAAQ,CAAU,KAAV,CAAhD;AACA,QAAM,CAACsD,IAAD,EAAOC,OAAP,IAAkBvD,QAAQ,CAAqBgD,WAArB,aAAqBA,WAArB,uBAAqBA,WAAW,CAAEM,IAAlC,CAAhC;AACA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BzD,QAAQ,CAAqB,CAAAgD,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEQ,UAAb,KAA2B,CAAhD,CAA5C;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwB3D,QAAQ,CAAqBgD,WAArB,aAAqBA,WAArB,uBAAqBA,WAAW,CAAEU,OAAlC,CAAtC;AACA,QAAM,CAACE,KAAD,EAAQC,QAAR,IAAoB7D,QAAQ,CAAS,EAAT,CAAlC;AACA,QAAM,CAAC4C,OAAD,EAAUkB,UAAV,IAAwB9D,QAAQ,CAAS,EAAT,CAAtC,CAX2B,CAa3B;;AACA,QAAM+D,WAAW,GAAG9D,WAAW,CAAE+D,CAAD,IAAO;AACrC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACAN,IAAAA,QAAQ,CAACI,IAAD,CAAR;AACD,GAH8B,EAG5B,EAH4B,CAA/B,CAd2B,CAmB3B;;AACA,QAAMG,YAAY,GAAGnE,WAAW,CAAE+D,CAAD,IAAO;AACtC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACAL,IAAAA,UAAU,CAACO,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BN,IAA3B,CAAD,CAAV;AACD,GAH+B,EAG7B,EAH6B,CAAhC,CApB2B,CAyB3B;;AACA,QAAMO,cAAc,GAAG,MAAqB;AAC1C,UAAMC,QAAQ,GAAG,CAAAzB,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEyB,QAAb,CAAsBC,QAAtB,GAAiCC,OAAjC,CAAyC,IAAzC,EAA+C,EAA/C,MAAsD,EAAvE;AACA,QAAIF,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2B;AAE3B,UAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,UAAMC,KAAK,GAAGF,IAAI,CAACG,WAAL,KAAqB,CAAC,OAAOH,IAAI,CAACI,QAAL,KAAkB,CAAzB,CAAD,EAA8BC,KAA9B,CAAoC,CAAC,CAArC,CAArB,GAA+D,CAAC,MAAML,IAAI,CAACM,OAAL,EAAP,EAAuBD,KAAvB,CAA6B,CAAC,CAA9B,CAA7E;AAEA,WAAOE,IAAI,CAACC,KAAL,CAAW,CAACC,QAAQ,CAACP,KAAD,CAAR,GAAkBO,QAAQ,CAACb,QAAD,CAA3B,IAAyC,KAApD,CAAP;AACD,GARD,CA1B2B,CAoC3B;;;AACA,QAAMc,qBAAqB,GAAG,MAAc;AAC1C,WAAO3D,WAAW,CAAC,CAAC,CAAAoB,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEQ,UAAb,KAA2B,CAA5B,IAAiC,CAAlC,CAAlB;AACD,GAFD;;AAIA,QAAMgC,cAAc,GAAG,MAA0B;AAC/C,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBrC,IAAI,IAAI,EAAhC;AACAmC,IAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BC,MAAM,CAACpC,UAAD,CAApC;AACAiC,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BjC,OAAO,IAAI,EAAtC;AACA+B,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB/B,KAAzB;AAEA,WAAO6B,QAAP;AACD,GATD;;AAWA,QAAMI,YAAY,GAAG,MAAO7B,CAAP,IAAkD;AACrEA,IAAAA,CAAC,CAAC8B,cAAF;AAEA,UAAMC,IAAI,GAAGP,cAAc,EAA3B;;AAEA,QAAI;AACF,YAAMQ,GAAG,GAAG,MAAMlE,UAAU,CAACkB,WAAD,aAACA,WAAD,uBAACA,WAAW,CAAEiD,EAAd,EAAkBF,IAAlB,CAA5B;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AAEA,UAAIA,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACtB/C,QAAAA,eAAe,CAAC,KAAD,CAAf;AACAJ,QAAAA,cAAc,CAAC+C,GAAG,CAACD,IAAJ,CAASM,IAAV,CAAd;AAEAH,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACD,OALD,MAKO;AACLD,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACD,IAAJ,CAASO,OAArB;AACD;AACF,KAZD,CAYE,OAAOC,GAAP,EAAY;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD;AACF,GArBD,CApD2B,CA2E3B;;;AACA,QAAMK,aAAa,GAAG,MAAOxC,CAAP,IAAkD;AACtE,QAAI;AACF,YAAMgC,GAAG,GAAG,MAAMnE,OAAO,EAAzB;;AAEA,UAAImE,GAAG,CAACD,IAAJ,CAASU,OAAT,KAAqB,IAAzB,EAA+B;AAC7B;AACAtG,QAAAA,OAAO,CAACuG,MAAR,CAAe,eAAf;AACAvG,QAAAA,OAAO,CAACuG,MAAR,CAAe,SAAf;AACAvG,QAAAA,OAAO,CAACuG,MAAR,CAAe,MAAf;AAEA3D,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAI,QAAAA,OAAO,CAACwD,IAAR,CAAa,SAAb;AAEAT,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,OAVD,MAUO;AACLD,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,KAhBD,CAgBE,OAAOI,GAAP,EAAY;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD;AACF,GApBD;;AAsBA,sBACE;AAAA,cAEIzD,UAAU,IAAIE,WAAd,gBACE;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,SAAS,EAAEE,OAAO,CAACb,IAAzB;AAAA,+BACE,QAAC,WAAD;AAAA,kCACE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAC,UAAxB;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAA,qCACE,QAAC,UAAD;AACE,gBAAA,OAAO,EAAE,MAAMgB,eAAe,CAAC,IAAD,CADhC;AAAA,uCAGE,QAAC,YAAD;AACE,kBAAA,KAAK,EAAC,QADR;AAEE,kBAAA,QAAQ,EAAC;AAFX;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAaE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAC,QAAxB;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAA,qCACE,QAAC,MAAD;AACE,gBAAA,GAAG,EAAC,QADN;AAEE,gBAAA,GAAG,EAAEL,WAAF,aAAEA,WAAF,uBAAEA,WAAW,CAAEY,KAAb,CAAmBgD,GAF1B;AAGE,gBAAA,SAAS,EAAE1D,OAAO,CAACjB;AAHrB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAbF,eAsBE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAC,QAAxB;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,KAAK,EAAE;AAAE4E,gBAAAA,SAAS,EAAE;AAAb,eAAlB;AAAA,sCACE,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,OAApB;AAA4B,gBAAA,SAAS,EAAC,GAAtC;AAA0C,gBAAA,YAAY,MAAtD;AAAA,2BACG7D,WADH,aACGA,WADH,uBACGA,WAAW,CAAEM,IADhB,OACuBkB,cAAc,EADrC,cAC4Ce,qBAAqB,EADjE;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,OAAD;AAAS,gBAAA,KAAK,EAAE;AAAEsB,kBAAAA,SAAS,EAAE;AAAb;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE,QAAC,UAAD;AACE,gBAAA,OAAO,EAAC,OADV;AAEE,gBAAA,SAAS,EAAC,GAFZ;AAGE,gBAAA,YAAY,MAHd;AAIE,gBAAA,KAAK,EAAE;AAAEA,kBAAAA,SAAS,EAAE,QAAb;AAAuBC,kBAAAA,UAAU,EAAE;AAAnC,iBAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,EAcI9D,WAAW,CAACU,OAAZ,gBACE,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,OAApB;AAA4B,gBAAA,SAAS,EAAC,GAAtC;AAA0C,gBAAA,KAAK,EAAC,eAAhD;AAAA,0BACGV,WAAW,CAACU;AADf;AAAA;AAAA;AAAA;AAAA,sBADF,gBAKE,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,OAApB;AAA4B,gBAAA,SAAS,EAAC,GAAtC;AAA0C,gBAAA,KAAK,EAAC,eAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBN,eAwBE,QAAC,MAAD;AACE,gBAAA,OAAO,EAAC,UADV;AAEE,gBAAA,OAAO,EAAE8C,aAFX;AAGE,gBAAA,KAAK,EAAC,SAHR;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,SAAS,eAAE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,wBALb;AAME,gBAAA,KAAK,EAAE;AAAEK,kBAAAA,SAAS,EAAE;AAAb,iBANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eA+DE;AAAM,QAAA,UAAU,MAAhB;AAAiB,QAAA,YAAY,EAAC,KAA9B;AAAA,+BACE,QAAC,MAAD;AACE,UAAA,IAAI,EAAEzD,YADR;AAEE,UAAA,WAAW,MAFb;AAGE,UAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,KAAD,CAHhC;AAAA,kCAKE,QAAC,WAAD;AAAa,YAAA,KAAK,EAAE;AAAEd,cAAAA,SAAS,EAAE;AAAb,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAQE,QAAC,aAAD;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,OAAO,EAAC,UADV;AAEE,cAAA,QAAQ,MAFV;AAGE,cAAA,SAAS,MAHX;AAIE,cAAA,KAAK,EAAC,cAJR;AAKE,cAAA,KAAK,EAAEe,IALT;AAME,cAAA,MAAM,EAAC,OANT;AAOE,cAAA,QAAQ,EAAGU,CAAD,IAA4CT,OAAO,CAACS,CAAC,CAACE,MAAF,CAAS6C,KAAV;AAP/D;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE,QAAC,WAAD;AACE,cAAA,OAAO,EAAC,UADV;AAEE,cAAA,MAAM,EAAC,OAFT;AAGE,cAAA,SAAS,MAHX;AAAA,sCAKE,QAAC,UAAD;AAAY,gBAAA,EAAE,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME,QAAC,MAAD;AACE,gBAAA,OAAO,EAAC,mCADV;AAEE,gBAAA,EAAE,EAAC,6BAFL;AAGE,gBAAA,KAAK,EAAEvD,UAHT;AAIE,gBAAA,QAAQ,EAAGQ,CAAD,IAA8CP,aAAa,CAACO,CAAC,CAACE,MAAF,CAAS6C,KAAV,CAJvE;AAKE,gBAAA,KAAK,EAAC,0BALR;AAAA,0BAQInF,WAAW,CAACoF,GAAZ,CAAgB,CAACxD,UAAD,EAAayD,KAAb,kBACd,QAAC,QAAD;AAA0B,kBAAA,KAAK,EAAEA,KAAK,GAAG,CAAzC;AAAA,4BAA6CzD;AAA7C,mBAAeyD,KAAK,GAAG,CAAvB;AAAA;AAAA;AAAA;AAAA,wBADF;AARJ;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF,eA8BE,QAAC,SAAD;AACE,cAAA,WAAW,EAAC,oFADd;AAEE,cAAA,OAAO,EAAC,UAFV;AAGE,cAAA,SAAS,MAHX;AAIE,cAAA,SAAS,MAJX;AAKE,cAAA,KAAK,EAAC,0BALR;AAME,cAAA,IAAI,EAAC,GANP;AAOE,cAAA,KAAK,EAAEvD,OAPT;AAQE,cAAA,MAAM,EAAC,OART;AASE,cAAA,QAAQ,EAAGM,CAAD,IAA4C;AACpDL,gBAAAA,UAAU,CAACK,CAAC,CAACE,MAAF,CAAS6C,KAAV,CAAV;AACD;AAXH;AAAA;AAAA;AAAA;AAAA,oBA9BF,eA2CE;AAAK,cAAA,SAAS,EAAE7D,OAAO,CAACZ,cAAxB;AAAA,sCACE;AACE,gBAAA,MAAM,EAAC,SADT;AAEE,gBAAA,SAAS,EAAEY,OAAO,CAACV,KAFrB;AAGE,gBAAA,EAAE,EAAC,kBAHL;AAIE,gBAAA,IAAI,EAAC,MAJP;AAKE,gBAAA,QAAQ,EAAGwB,CAAD,IAA4C;AACpDD,kBAAAA,WAAW,CAACC,CAAD,CAAX;AACAI,kBAAAA,YAAY,CAACJ,CAAD,CAAZ;AACD;AARH;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE;AAAO,gBAAA,OAAO,EAAC,kBAAf;AAAA,uCACE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAC,SADR;AAEE,gCAAW,gBAFb;AAGE,kBAAA,SAAS,EAAC,MAHZ;AAAA,yCAKE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA3CF,EAiEIpB,OAAO,gBACL,QAAC,GAAD;AACE,cAAA,SAAS,EAAEM,OAAO,CAACR,GADrB;AAAA,sCAGE,QAAC,UAAD;AACE,gBAAA,KAAK,EAAC,SADR;AAEE,gBAAA,OAAO,EAAE,MAAMoB,UAAU,CAAC,EAAD,CAF3B;AAAA,uCAIE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,sBAHF,eASE;AACE,gBAAA,GAAG,EAAElB,OADP;AAEE,gBAAA,GAAG,EAAC,aAFN;AAGE,gBAAA,SAAS,EAAEM,OAAO,CAACN;AAHrB;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADK,GAgBH,IAjFR;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eA4FE,QAAC,aAAD;AAAA,mCACE,QAAC,MAAD;AACE,cAAA,OAAO,EAAEiD,YADX;AAEE,cAAA,KAAK,EAAC,SAFR;AAGE,cAAA,QAAQ,EAAE,CAACvC,IAAD,IAAS,CAACI,OAAV,GAAoB,IAApB,GAA2B,KAHvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA5FF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA/DF;AAAA,oBADF,gBA0KE;AA5KN,mBADF;AAkLD,CApRD;;GAAMb,I;UAGYd,S,EACA7B,U;;;KAJZ2C,I;AAsRN,eAAeA,IAAf","sourcesContent":["import React, { useContext, useEffect, useState, useCallback } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Cookies from \"js-cookie\"\n\nimport { makeStyles, Theme } from \"@material-ui/core/styles\"\nimport { Grid, Typography } from \"@material-ui/core\"\nimport Card from \"@material-ui/core/Card\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\n\nimport Dialog from \"@material-ui/core/Dialog\"\nimport TextField from \"@material-ui/core/TextField\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\n\nimport InputLabel from \"@material-ui/core/InputLabel\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Select from \"@material-ui/core/Select\"\n\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\"\nimport Box from \"@material-ui/core/Box\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport Button from \"@material-ui/core/Button\"\n\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Divider from \"@material-ui/core/Divider\"\n\nimport { AuthContext } from \"App\"\nimport { prefectures } from \"data/prefectures\"\n\nimport { signOut } from \"lib/api/auth\"\nimport { getUser, updateUser } from \"lib/api/users\"\nimport { UpdateUserFormData } from \"interfaces/index\"\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  avatar: {\n    width: theme.spacing(10),\n    height: theme.spacing(10)\n  },\n  card: {\n    width: 340\n  },\n  imageUploadBtn: {\n    textAlign: \"right\"\n  },\n  input: {\n    display: \"none\"\n  },\n  box: {\n    marginBottom: \"1.5rem\"\n  },\n  preview: {\n    width: \"100%\"\n  }\n}))\n\n// ホーム（マイページ）\nconst Home: React.FC = () => {\n  const { isSignedIn, setIsSignedIn, currentUser, setCurrentUser } = useContext(AuthContext)\n\n  const classes = useStyles()\n  const histroy = useHistory()\n\n  const [editFormOpen, setEditFormOpen] = useState<boolean>(false)\n  const [name, setName] = useState<string | undefined>(currentUser?.name)\n  const [prefecture, setPrefecture] = useState<number | undefined>(currentUser?.prefecture || 0)\n  const [profile, setProfile] = useState<string | undefined>(currentUser?.profile)\n  const [image, setImage] = useState<string>(\"\")\n  const [preview, setPreview] = useState<string>(\"\")\n\n  // アップロードした画像の情報を取得\n  const uploadImage = useCallback((e) => {\n    const file = e.target.files[0]\n    setImage(file)\n  }, [])\n\n  // 画像プレビュー\n  const previewImage = useCallback((e) => {\n    const file = e.target.files[0]\n    setPreview(window.URL.createObjectURL(file))\n  }, [])\n\n  // 生年月日から年齢を計算する 年齢 = floor((今日 - 誕生日) / 10000)\n  const currentUserAge = (): number | void => {\n    const birthday = currentUser?.birthday.toString().replace(/-/g, \"\") || \"\"\n    if (birthday.length !== 8) return\n\n    const date = new Date()\n    const today = date.getFullYear() + (\"0\" + (date.getMonth() + 1)).slice(-2) + (\"0\" + date.getDate()).slice(-2)\n\n    return Math.floor((parseInt(today) - parseInt(birthday)) / 10000)\n  }\n\n  // 都道府県\n  const currentUserPrefecture = (): string => {\n    return prefectures[(currentUser?.prefecture || 0) - 1]\n  }\n\n  const createFormData = (): UpdateUserFormData => {\n    const formData = new FormData()\n\n    formData.append(\"name\", name || \"\")\n    formData.append(\"prefecture\", String(prefecture))\n    formData.append(\"profile\", profile || \"\")\n    formData.append(\"image\", image)\n\n    return formData\n  }\n\n  const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault()\n\n    const data = createFormData()\n\n    try {\n      const res = await updateUser(currentUser?.id, data)\n      console.log(res)\n\n      if (res.status === 200) {\n        setEditFormOpen(false)\n        setCurrentUser(res.data.user)\n\n        console.log(\"Update user successfully!\")\n      } else {\n        console.log(res.data.message)\n      }\n    } catch (err) {\n      console.log(err)\n      console.log(\"Failed in updating user!\")\n    }\n  }\n\n  // サインアウト用の処理\n  const handleSignOut = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    try {\n      const res = await signOut()\n\n      if (res.data.success === true) {\n        // Cookieから各情報を削除\n        Cookies.remove(\"_access_token\")\n        Cookies.remove(\"_client\")\n        Cookies.remove(\"_uid\")\n\n        setIsSignedIn(false)\n        histroy.push(\"/signin\")\n\n        console.log(\"Succeeded in sign out\")\n      } else {\n        console.log(\"Failed in sign out\")\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  return (\n    <>\n      {\n        isSignedIn && currentUser ? (\n          <>\n            <Card className={classes.card}>\n              <CardContent>\n                <Grid container justify=\"flex-end\">\n                  <Grid item>\n                    <IconButton\n                      onClick={() => setEditFormOpen(true)}\n                    >\n                      <SettingsIcon\n                        color=\"action\"\n                        fontSize=\"small\"\n                      />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n                <Grid container justify=\"center\">\n                  <Grid item>\n                    <Avatar\n                      alt=\"avatar\"\n                      src={currentUser?.image.url}\n                      className={classes.avatar}\n                    />\n                  </Grid>\n                </Grid>\n                <Grid container justify=\"center\">\n                  <Grid item style={{ marginTop: \"1.5rem\" }}>\n                    <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                      {currentUser?.name} {currentUserAge()}歳 ({currentUserPrefecture()})\n                    </Typography>\n                    <Divider style={{ marginTop: \"0.5rem\" }} />\n                    <Typography\n                      variant=\"body2\"\n                      component=\"p\"\n                      gutterBottom\n                      style={{ marginTop: \"0.5rem\", fontWeight: \"bold\" }}\n                    >\n                      自己紹介\n                    </Typography>\n                    {\n                      currentUser.profile ? (\n                        <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                          {currentUser.profile}\n                        </Typography>\n                      ) : (\n                        <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                          よろしくお願いいたします。\n                        </Typography>\n                      )\n                    }\n                    <Button\n                      variant=\"outlined\"\n                      onClick={handleSignOut}\n                      color=\"primary\"\n                      fullWidth\n                      startIcon={<ExitToAppIcon />}\n                      style={{ marginTop: \"1rem\" }}\n                    >\n                      サインアウト\n                    </Button>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n            <form noValidate autoComplete=\"off\">\n              <Dialog\n                open={editFormOpen}\n                keepMounted\n                onClose={() => setEditFormOpen(false)}\n              >\n                <DialogTitle style={{ textAlign: \"center\" }}>\n                  プロフィールの変更\n                </DialogTitle>\n                <DialogContent>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    label=\"名前\"\n                    value={name}\n                    margin=\"dense\"\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  >\n                    <InputLabel id=\"demo-simple-select-outlined-label\">都道府県</InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-outlined-label\"\n                      id=\"demo-simple-select-outlined\"\n                      value={prefecture}\n                      onChange={(e: React.ChangeEvent<{ value: unknown }>) => setPrefecture(e.target.value as number)}\n                      label=\"都道府県\"\n                    >\n                      {\n                        prefectures.map((prefecture, index) =>\n                          <MenuItem key={index + 1} value={index + 1}>{prefecture}</MenuItem>\n                        )\n                      }\n                    </Select>\n                  </FormControl>\n                  <TextField\n                    placeholder=\"1000文字以内で書いてください。\"\n                    variant=\"outlined\"\n                    multiline\n                    fullWidth\n                    label=\"自己紹介\"\n                    rows=\"8\"\n                    value={profile}\n                    margin=\"dense\"\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      setProfile(e.target.value)\n                    }}\n                  />\n                  <div className={classes.imageUploadBtn}>\n                    <input\n                      accept=\"image/*\"\n                      className={classes.input}\n                      id=\"icon-button-file\"\n                      type=\"file\"\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        uploadImage(e)\n                        previewImage(e)\n                      }}\n                    />\n                    <label htmlFor=\"icon-button-file\">\n                      <IconButton\n                        color=\"primary\"\n                        aria-label=\"upload picture\"\n                        component=\"span\"\n                      >\n                        <PhotoCamera />\n                      </IconButton>\n                    </label>\n                  </div>\n                  {\n                    preview ? (\n                      <Box\n                        className={classes.box}\n                      >\n                        <IconButton\n                          color=\"inherit\"\n                          onClick={() => setPreview(\"\")}\n                        >\n                          <CancelIcon />\n                        </IconButton>\n                        <img\n                          src={preview}\n                          alt=\"preview img\"\n                          className={classes.preview}\n                        />\n                      </Box>\n                    ) : null\n                  }\n                </DialogContent>\n                <DialogActions>\n                  <Button\n                    onClick={handleSubmit}\n                    color=\"primary\"\n                    disabled={!name || !profile ? true : false}\n                  >\n                    送信\n                  </Button>\n                </DialogActions>\n              </Dialog>\n            </form>\n          </>\n        ) : (\n          <></>\n        )\n      }\n    </>\n  )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}