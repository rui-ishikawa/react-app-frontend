{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/pages/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\"; // バージョンに注意（https://stackoverflow.com/questions/59600125/cannot-get-material-ui-datepicker-to-work）\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport Box from \"@material-ui/core/Box\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { AuthContext } from \"App\";\nimport AlertMessage from \"components/utils/AlertMessage\";\nimport { signUp } from \"lib/api/auth\";\nimport { GuestSignUp } from \"lib/api/auth\";\nimport { prefectures } from \"data/prefectures\";\nimport { genders } from \"data/genders\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: theme.spacing(6)\n  },\n  submitBtn: {\n    marginTop: theme.spacing(1),\n    flexGrow: 1,\n    textTransform: \"none\"\n  },\n  header: {\n    textAlign: \"center\"\n  },\n  card: {\n    padding: theme.spacing(2),\n    maxWidth: 340\n  },\n  inputFileButton: {\n    textTransform: \"none\",\n    color: theme.palette.primary.main\n  },\n  imageUploadBtn: {\n    textAlign: \"right\"\n  },\n  input: {\n    display: \"none\"\n  },\n  box: {\n    marginBottom: \"1.5rem\"\n  },\n  preview: {\n    width: \"100%\"\n  }\n})); // サインアップページ\n\nconst SignUp = () => {\n  _s();\n\n  const classes = useStyles();\n  const histroy = useHistory();\n  const {\n    setIsSignedIn,\n    setCurrentUser\n  } = useContext(AuthContext);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n  const [gender, setGender] = useState();\n  const [prefecture, setPrefecture] = useState();\n  const [birthday, setBirthday] = useState(new Date(\"2000-01-01T00:00:00\"));\n  const [image, setImage] = useState(\"\");\n  const [preview, setPreview] = useState(\"\");\n  const [alertMessageOpen, setAlertMessageOpen] = useState(false); // アップロードした画像のデータを取得\n\n  const uploadImage = useCallback(e => {\n    const file = e.target.files[0];\n    setImage(file);\n  }, []); // 画像プレビューを表示\n\n  const previewImage = useCallback(e => {\n    const file = e.target.files[0];\n    setPreview(window.URL.createObjectURL(file));\n  }, []); // フォームデータを作成\n\n  const createFormData = () => {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    formData.append(\"passwordConfirmation\", passwordConfirmation);\n    formData.append(\"gender\", String(gender));\n    formData.append(\"prefecture\", String(prefecture));\n    formData.append(\"birthday\", String(birthday));\n    formData.append(\"image\", image);\n    return formData;\n  }; // フォームデータを作成(ゲストサインアップ)\n\n\n  const createGuestSignUpFormData = () => {\n    const guestFormData = new FormData(); //GuestFormDataの名称に注意\n\n    guestFormData.append(\"name\", name);\n    guestFormData.append(\"email\", email);\n    guestFormData.append(\"password\", password);\n    guestFormData.append(\"passwordConfirmation\", passwordConfirmation);\n    guestFormData.append(\"gender\", String(gender));\n    guestFormData.append(\"prefecture\", String(prefecture));\n    guestFormData.append(\"birthday\", String(birthday));\n    guestFormData.append(\"image\", image);\n    return guestFormData;\n  }; // サインアップの関数\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = createFormData();\n\n    try {\n      const res = await signUp(data);\n      console.log(res);\n\n      if (res.status === 200) {\n        Cookies.set(\"_access_token\", res.headers[\"access-token\"]);\n        Cookies.set(\"_client\", res.headers[\"client\"]);\n        Cookies.set(\"_uid\", res.headers[\"uid\"]);\n        setIsSignedIn(true);\n        setCurrentUser(res.data.data);\n        histroy.push(\"/home\");\n        setName(\"\");\n        setEmail(\"\");\n        setPassword(\"\");\n        setPasswordConfirmation(\"\");\n        setGender(undefined);\n        setPrefecture(undefined);\n        setBirthday(null);\n        console.log(\"Signed in successfully!\");\n      } else {\n        setAlertMessageOpen(true);\n      }\n    } catch (err) {\n      console.log(err);\n      setAlertMessageOpen(true);\n    }\n  }; // ゲストサインアップの関数\n\n\n  const handleSubmitGuestSignUp = async e => {\n    e.preventDefault();\n    const data = createGuestSignUpFormData();\n\n    try {\n      const res = await GuestSignUp(data);\n      console.log(res);\n\n      if (res.status === 200) {\n        Cookies.set(\"_access_token\", res.headers[\"access-token\"]);\n        Cookies.set(\"_client\", res.headers[\"client\"]);\n        Cookies.set(\"_uid\", res.headers[\"uid\"]);\n        setIsSignedIn(true);\n        setCurrentUser(res.data.data);\n        histroy.push(\"/home\");\n        setName(\"ゲストユーザー\");\n        setEmail(\"guest@example.com\");\n        setPassword(\"111111\");\n        setPasswordConfirmation(\"111111\");\n        setGender(undefined);\n        setPrefecture(undefined);\n        setBirthday(null);\n        console.log(\"Signed in successfully!\");\n      } else {\n        setAlertMessageOpen(true);\n      }\n    } catch (err) {\n      console.log(err);\n      setAlertMessageOpen(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      noValidate: true,\n      autoComplete: \"off\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.card,\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: classes.header,\n          title: \"\\u30B5\\u30A4\\u30F3\\u30A2\\u30C3\\u30D7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            required: true,\n            fullWidth: true,\n            label: \"\\u540D\\u524D\",\n            value: name,\n            margin: \"dense\",\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            required: true,\n            fullWidth: true,\n            label: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",\n            value: email,\n            margin: \"dense\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            required: true,\n            fullWidth: true,\n            label: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n            type: \"password\",\n            value: password,\n            margin: \"dense\",\n            autoComplete: \"current-password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            required: true,\n            fullWidth: true,\n            label: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\uFF08\\u78BA\\u8A8D\\u7528\\uFF09\",\n            type: \"password\",\n            value: passwordConfirmation,\n            margin: \"dense\",\n            autoComplete: \"current-password\",\n            onChange: e => setPasswordConfirmation(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            margin: \"dense\",\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-outlined-label\",\n              children: \"\\u6027\\u5225\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-outlined-label\",\n              id: \"demo-simple-select-outlined\",\n              value: gender,\n              onChange: e => setGender(e.target.value),\n              label: \"\\u6027\\u5225\",\n              children: genders.map((gender, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: index,\n                children: gender\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            margin: \"dense\",\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-outlined-label\",\n              children: \"\\u90FD\\u9053\\u5E9C\\u770C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-outlined-label\",\n              id: \"demo-simple-select-outlined\",\n              value: prefecture,\n              onChange: e => setPrefecture(e.target.value),\n              label: \"\\u90FD\\u9053\\u5E9C\\u770C\",\n              children: prefectures.map((prefecture, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: index + 1,\n                children: prefecture\n              }, index + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justifyContent: \"space-around\",\n              children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n                fullWidth: true,\n                inputVariant: \"outlined\",\n                margin: \"dense\",\n                id: \"date-picker-dialog\",\n                label: \"\\u8A95\\u751F\\u65E5\",\n                format: \"MM/dd/yyyy\",\n                value: birthday,\n                onChange: date => {\n                  setBirthday(date);\n                },\n                KeyboardButtonProps: {\n                  \"aria-label\": \"change date\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.imageUploadBtn,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              className: classes.input,\n              id: \"icon-button-file\",\n              type: \"file\",\n              onChange: e => {\n                uploadImage(e);\n                previewImage(e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"icon-button-file\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                \"aria-label\": \"upload picture\",\n                component: \"span\",\n                children: /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), preview ? /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.box,\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"inherit\",\n              onClick: () => setPreview(\"\"),\n              children: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: preview,\n              alt: \"preview img\",\n              className: classes.preview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"outlined\",\n              color: \"primary\",\n              disabled: !name || !email || !password || !passwordConfirmation ? true : false // 空欄があった場合はボタンを押せないように\n              ,\n              className: classes.submitBtn,\n              onClick: handleSubmit,\n              children: \"\\u9001\\u4FE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"outlined\",\n              color: \"primary\",\n              className: classes.submitBtn,\n              onClick: handleSubmitGuestSignUp,\n              children: \"\\u30B2\\u30B9\\u30C8\\u30ED\\u30B0\\u30A4\\u30F3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlertMessage // エラーが発生した場合はアラートを表示\n    , {\n      open: alertMessageOpen,\n      setOpen: setAlertMessageOpen,\n      severity: \"error\",\n      message: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u304B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u9593\\u9055\\u3063\\u3066\\u3044\\u307E\\u3059\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SignUp, \"TV8KVa0DdmYk/c6jRs1qVRkp4as=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/usr/src/app/src/components/pages/SignUp.tsx"],"names":["React","useState","useContext","useCallback","useHistory","Cookies","DateFnsUtils","makeStyles","Grid","TextField","InputLabel","MenuItem","FormControl","Select","MuiPickersUtilsProvider","KeyboardDatePicker","Card","CardContent","CardHeader","Button","IconButton","PhotoCamera","Box","CancelIcon","AuthContext","AlertMessage","signUp","GuestSignUp","prefectures","genders","useStyles","theme","container","marginTop","spacing","submitBtn","flexGrow","textTransform","header","textAlign","card","padding","maxWidth","inputFileButton","color","palette","primary","main","imageUploadBtn","input","display","box","marginBottom","preview","width","SignUp","classes","histroy","setIsSignedIn","setCurrentUser","name","setName","email","setEmail","password","setPassword","passwordConfirmation","setPasswordConfirmation","gender","setGender","prefecture","setPrefecture","birthday","setBirthday","Date","image","setImage","setPreview","alertMessageOpen","setAlertMessageOpen","uploadImage","e","file","target","files","previewImage","window","URL","createObjectURL","createFormData","formData","FormData","append","String","createGuestSignUpFormData","guestFormData","handleSubmit","preventDefault","data","res","console","log","status","set","headers","push","undefined","err","handleSubmitGuestSignUp","value","map","index","date"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useCallback } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Cookies from \"js-cookie\"\nimport \"date-fns\"\nimport DateFnsUtils from \"@date-io/date-fns\" // バージョンに注意（https://stackoverflow.com/questions/59600125/cannot-get-material-ui-datepicker-to-work）\n\nimport { makeStyles, Theme } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputLabel from \"@material-ui/core/InputLabel\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Select from \"@material-ui/core/Select\"\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker\n} from \"@material-ui/pickers\"\nimport Card from \"@material-ui/core/Card\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\"\nimport Box from \"@material-ui/core/Box\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\n\nimport { AuthContext } from \"App\"\nimport AlertMessage from \"components/utils/AlertMessage\"\nimport { signUp } from \"lib/api/auth\"\nimport { GuestSignUp } from \"lib/api/auth\"\nimport { SignUpFormData } from \"interfaces/index\"\nimport { GuestSignUpFormData } from \"interfaces/index\"\nimport { prefectures } from \"data/prefectures\"\nimport { genders } from \"data/genders\"\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    marginTop: theme.spacing(6)\n  },\n  submitBtn: {\n    marginTop: theme.spacing(1),\n    flexGrow: 1,\n    textTransform: \"none\"\n  },\n  header: {\n    textAlign: \"center\"\n  },\n  card: {\n    padding: theme.spacing(2),\n    maxWidth: 340\n  },\n  inputFileButton: {\n    textTransform: \"none\",\n    color: theme.palette.primary.main\n  },\n  imageUploadBtn: {\n    textAlign: \"right\"\n  },\n  input: {\n    display: \"none\"\n  },\n  box: {\n    marginBottom: \"1.5rem\"\n  },\n  preview: {\n    width: \"100%\"\n  }\n}))\n\n// サインアップページ\nconst SignUp: React.FC = () => {\n  const classes = useStyles()\n  const histroy = useHistory()\n\n  const { setIsSignedIn, setCurrentUser } = useContext(AuthContext)\n\n  const [name, setName] = useState<string>(\"\")\n  const [email, setEmail] = useState<string>(\"\")\n  const [password, setPassword] = useState<string>(\"\")\n  const [passwordConfirmation, setPasswordConfirmation] = useState<string>(\"\")\n  const [gender, setGender] = useState<number>()\n  const [prefecture, setPrefecture] = useState<number>()\n  const [birthday, setBirthday] = useState<Date | null>(\n    new Date(\"2000-01-01T00:00:00\"),\n  )\n  const [image, setImage] = useState<string>(\"\")\n  const [preview, setPreview] = useState<string>(\"\")\n  const [alertMessageOpen, setAlertMessageOpen] = useState<boolean>(false)\n\n  // アップロードした画像のデータを取得\n  const uploadImage = useCallback((e) => {\n    const file = e.target.files[0]\n    setImage(file)\n  }, [])\n\n  // 画像プレビューを表示\n  const previewImage = useCallback((e) => {\n    const file = e.target.files[0]\n    setPreview(window.URL.createObjectURL(file))\n  }, [])\n\n  // フォームデータを作成\n  const createFormData = (): SignUpFormData => {\n    const formData = new FormData()\n\n    formData.append(\"name\", name)\n    formData.append(\"email\", email)\n    formData.append(\"password\", password)\n    formData.append(\"passwordConfirmation\", passwordConfirmation)\n    formData.append(\"gender\", String(gender))\n    formData.append(\"prefecture\", String(prefecture))\n    formData.append(\"birthday\", String(birthday))\n    formData.append(\"image\", image)\n\n    return formData\n  }\n\n  // フォームデータを作成(ゲストサインアップ)\n  const createGuestSignUpFormData = (): GuestSignUpFormData => {\n    const guestFormData = new FormData()  //GuestFormDataの名称に注意\n\n    guestFormData.append(\"name\", name)\n    guestFormData.append(\"email\", email)\n    guestFormData.append(\"password\", password)\n    guestFormData.append(\"passwordConfirmation\", passwordConfirmation)\n    guestFormData.append(\"gender\", String(gender))\n    guestFormData.append(\"prefecture\", String(prefecture))\n    guestFormData.append(\"birthday\", String(birthday))\n    guestFormData.append(\"image\", image)\n\n    return guestFormData\n  }\n\n  // サインアップの関数\n  const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault()\n\n    const data = createFormData()\n\n    try {\n      const res = await signUp(data)\n      console.log(res)\n\n      if (res.status === 200) {\n        Cookies.set(\"_access_token\", res.headers[\"access-token\"])\n        Cookies.set(\"_client\", res.headers[\"client\"])\n        Cookies.set(\"_uid\", res.headers[\"uid\"])\n\n        setIsSignedIn(true)\n        setCurrentUser(res.data.data)\n\n        histroy.push(\"/home\")\n\n        setName(\"\")\n        setEmail(\"\")\n        setPassword(\"\")\n        setPasswordConfirmation(\"\")\n        setGender(undefined)\n        setPrefecture(undefined)\n        setBirthday(null)\n\n        console.log(\"Signed in successfully!\")\n      } else {\n        setAlertMessageOpen(true)\n      }\n    } catch (err) {\n      console.log(err)\n      setAlertMessageOpen(true)\n    }\n  }\n\n  // ゲストサインアップの関数\n  const handleSubmitGuestSignUp = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault()\n\n    const data = createGuestSignUpFormData()\n\n    try {\n      const res = await GuestSignUp(data)\n      console.log(res)\n\n      if (res.status === 200) {\n        Cookies.set(\"_access_token\", res.headers[\"access-token\"])\n        Cookies.set(\"_client\", res.headers[\"client\"])\n        Cookies.set(\"_uid\", res.headers[\"uid\"])\n\n        setIsSignedIn(true)\n        setCurrentUser(res.data.data)\n\n        histroy.push(\"/home\")\n\n        setName(\"ゲストユーザー\")\n        setEmail(\"guest@example.com\")\n        setPassword(\"111111\")\n        setPasswordConfirmation(\"111111\")\n        setGender(undefined)\n        setPrefecture(undefined)\n        setBirthday(null)\n\n        console.log(\"Signed in successfully!\")\n      } else {\n        setAlertMessageOpen(true)\n      }\n    } catch (err) {\n      console.log(err)\n      setAlertMessageOpen(true)\n    }\n  }\n\n  return (\n    <>\n      <form noValidate autoComplete=\"off\">\n        <Card className={classes.card}>\n          <CardHeader className={classes.header} title=\"サインアップ\" />\n          <CardContent>\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"名前\"\n              value={name}\n              margin=\"dense\"\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"メールアドレス\"\n              value={email}\n              margin=\"dense\"\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"パスワード\"\n              type=\"password\"\n              value={password}\n              margin=\"dense\"\n              autoComplete=\"current-password\"\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              required\n              fullWidth\n              label=\"パスワード（確認用）\"\n              type=\"password\"\n              value={passwordConfirmation}\n              margin=\"dense\"\n              autoComplete=\"current-password\"\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPasswordConfirmation(e.target.value)}\n            />\n            <FormControl\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n            >\n              <InputLabel id=\"demo-simple-select-outlined-label\">性別</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-outlined-label\"\n                id=\"demo-simple-select-outlined\"\n                value={gender}\n                onChange={(e: React.ChangeEvent<{ value: unknown }>) => setGender(e.target.value as number)}\n                label=\"性別\"\n              >\n                {\n                  genders.map((gender: string, index: number) =>\n                    <MenuItem value={index}>{gender}</MenuItem>\n                  )\n                }\n              </Select>\n            </FormControl>\n            <FormControl\n              variant=\"outlined\"\n              margin=\"dense\"\n              fullWidth\n            >\n              <InputLabel id=\"demo-simple-select-outlined-label\">都道府県</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-outlined-label\"\n                id=\"demo-simple-select-outlined\"\n                value={prefecture}\n                onChange={(e: React.ChangeEvent<{ value: unknown }>) => setPrefecture(e.target.value as number)}\n                label=\"都道府県\"\n              >\n                {\n                  prefectures.map((prefecture, index) =>\n                    <MenuItem key={index + 1} value={index + 1}>{prefecture}</MenuItem>\n                  )\n                }\n              </Select>\n            </FormControl>\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n              <Grid container justifyContent=\"space-around\">\n                <KeyboardDatePicker\n                  fullWidth\n                  inputVariant=\"outlined\"\n                  margin=\"dense\"\n                  id=\"date-picker-dialog\"\n                  label=\"誕生日\"\n                  format=\"MM/dd/yyyy\"\n                  value={birthday}\n                  onChange={(date: Date | null) => {\n                    setBirthday(date)\n                  }}\n                  KeyboardButtonProps={{\n                    \"aria-label\": \"change date\",\n                  }}\n                />\n              </Grid>\n            </MuiPickersUtilsProvider>\n            <div className={classes.imageUploadBtn}>\n              <input\n                accept=\"image/*\"\n                className={classes.input}\n                id=\"icon-button-file\"\n                type=\"file\"\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                  uploadImage(e)\n                  previewImage(e)\n                }}\n              />\n              <label htmlFor=\"icon-button-file\">\n                <IconButton\n                  color=\"primary\"\n                  aria-label=\"upload picture\"\n                  component=\"span\"\n                >\n                  <PhotoCamera />\n                </IconButton>\n              </label>\n            </div>\n            {\n              preview ? (\n                <Box\n                  className={classes.box}\n                >\n                  <IconButton\n                    color=\"inherit\"\n                    onClick={() => setPreview(\"\")}\n                  >\n                    <CancelIcon />\n                  </IconButton>\n                  <img\n                    src={preview}\n                    alt=\"preview img\"\n                    className={classes.preview}\n                  />\n                </Box>\n              ) : null\n            }\n            <div style={{ textAlign: \"right\" }} >\n              <Button\n                type=\"submit\"\n                variant=\"outlined\"\n                color=\"primary\"\n                disabled={!name || !email || !password || !passwordConfirmation ? true : false} // 空欄があった場合はボタンを押せないように\n                className={classes.submitBtn}\n                onClick={handleSubmit}\n              >\n                送信\n              </Button>\n            </div>\n            <div style={{ textAlign: \"right\" }} >\n              <Button\n                type=\"submit\"\n                variant=\"outlined\"\n                color=\"primary\"\n                className={classes.submitBtn}\n                onClick={handleSubmitGuestSignUp}\n              >\n                ゲストログイン\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </form>\n\n\n\n      <AlertMessage // エラーが発生した場合はアラートを表示\n        open={alertMessageOpen}\n        setOpen={setAlertMessageOpen}\n        severity=\"error\"\n        message=\"メールアドレスかパスワードが間違っています\"\n      />\n    </>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}