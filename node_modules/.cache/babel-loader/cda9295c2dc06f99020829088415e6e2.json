{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/pages/ChatRooms.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { getChatRooms } from \"lib/api/chat_rooms\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    minWidth: 340,\n    maxWidth: \"100%\"\n  },\n  link: {\n    textDecoration: \"none\",\n    color: \"inherit\"\n  }\n})); // チャットルーム一覧ページ\n\nconst ChatRooms = () => {\n  _s();\n\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const [chatRooms, setChatRooms] = useState([]);\n\n  const handleGetChatRooms = async () => {\n    try {\n      const res = await getChatRooms();\n\n      if (res.status === 200) {\n        setChatRooms(res.data.chatRooms);\n      } else {\n        console.log(\"No chat rooms\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    handleGetChatRooms();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !loading ? chatRooms.length > 0 ? chatRooms.map((chatRoom, index) => {\n      return /*#__PURE__*/_jsxDEV(motion.div, {\n        animate: {\n          x: 0\n        },\n        initial: {\n          x: 800\n        },\n        exit: {\n          x: -800\n        },\n        transition: {\n          duration: 0.4\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(List, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/chatroom/${chatRoom.chatRoom.id}`,\n              className: classes.link,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.root,\n                children: /*#__PURE__*/_jsxDEV(ListItem, {\n                  alignItems: \"flex-start\",\n                  style: {\n                    padding: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                    children: /*#__PURE__*/_jsxDEV(Avatar, {\n                      alt: \"avatar\",\n                      src: chatRoom.otherUser.url\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: chatRoom.otherUser.name,\n                    secondary: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: \"0.5rem\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        component: \"span\",\n                        variant: \"body2\",\n                        color: \"textSecondary\",\n                        children: chatRoom.lastMessage === null ? \"まだメッセージはありません。\" : chatRoom.lastMessage.content.length > 30 ? chatRoom.lastMessage.content.substr(0, 30) + \"...\" : chatRoom.lastMessage.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              component: \"li\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"p\",\n      variant: \"body2\",\n      color: \"textSecondary\",\n      children: \"\\u30DE\\u30C3\\u30C1\\u30F3\\u30B0\\u4E2D\\u306E\\u76F8\\u624B\\u306F\\u3044\\u307E\\u305B\\u3093\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n  }, void 0, false);\n};\n\n_s(ChatRooms, \"mIEbRcOuI88zos1OHeLYJMSJ7e4=\", false, function () {\n  return [useStyles];\n});\n\n_c = ChatRooms;\nexport default ChatRooms;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatRooms\");","map":{"version":3,"sources":["/usr/src/app/src/components/pages/ChatRooms.tsx"],"names":["React","useEffect","useState","Link","motion","makeStyles","Grid","Typography","Avatar","List","ListItem","Divider","ListItemText","ListItemAvatar","getChatRooms","useStyles","theme","root","flexGrow","minWidth","maxWidth","link","textDecoration","color","ChatRooms","classes","loading","setLoading","chatRooms","setChatRooms","handleGetChatRooms","res","status","data","console","log","err","length","map","chatRoom","index","x","duration","id","padding","otherUser","url","name","marginTop","lastMessage","content","substr"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { motion } from \"framer-motion\";\n\nimport { makeStyles, Theme } from \"@material-ui/core/styles\"\nimport { Grid, Typography } from \"@material-ui/core\"\nimport Avatar from \"@material-ui/core/Avatar\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\n\nimport { getChatRooms } from \"lib/api/chat_rooms\"\nimport { ChatRoom } from \"interfaces/index\"\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    flexGrow: 1,\n    minWidth: 340,\n    maxWidth: \"100%\"\n  },\n  link: {\n    textDecoration: \"none\",\n    color: \"inherit\"\n  }\n}))\n\n// チャットルーム一覧ページ\nconst ChatRooms: React.FC = () => {\n  const classes = useStyles()\n\n  const [loading, setLoading] = useState<boolean>(true)\n  const [chatRooms, setChatRooms] = useState<ChatRoom[]>([])\n\n  const handleGetChatRooms = async () => {\n    try {\n      const res = await getChatRooms()\n\n      if (res.status === 200) {\n        setChatRooms(res.data.chatRooms)\n      } else {\n        console.log(\"No chat rooms\")\n      }\n    } catch (err) {\n      console.log(err)\n    }\n\n    setLoading(false)\n  }\n\n  useEffect(() => {\n    handleGetChatRooms()\n  }, [])\n\n  return (\n    <>\n      {\n        !loading ? (\n          chatRooms.length > 0 ? (\n            chatRooms.map((chatRoom: ChatRoom, index: number) => {\n              return (\n                <motion.div\n                  animate={{ x: 0 }}\n                  initial={{ x: 800 }}\n                  exit={{ x: -800 }}\n                  transition={{ duration: 0.4 }}\n                >\n                  <Grid container key={index} justifyContent=\"center\">\n                    <List>\n                      {/* 個別のチャットルームへ飛ばす */}\n                      <Link to={`/chatroom/${chatRoom.chatRoom.id}`} className={classes.link}>\n                        <div className={classes.root}>\n                          <ListItem alignItems=\"flex-start\" style={{ padding: 0 }}>\n                            <ListItemAvatar>\n                              <Avatar\n                                alt=\"avatar\"\n                                src={chatRoom.otherUser.url}\n                              />\n                            </ListItemAvatar>\n                            <ListItemText\n                              primary={chatRoom.otherUser.name}\n                              secondary={\n                                <div style={{ marginTop: \"0.5rem\" }}>\n                                  <Typography\n                                    component=\"span\"\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                  >\n                                    {chatRoom.lastMessage === null ? \"まだメッセージはありません。\" : chatRoom.lastMessage.content.length > 30 ? chatRoom.lastMessage.content.substr(0, 30) + \"...\" : chatRoom.lastMessage.content}\n                                  </Typography>\n                                </div>\n                              }\n                            />\n                          </ListItem>\n                        </div>\n                      </Link>\n                      <Divider component=\"li\" />\n                    </List>\n                  </Grid>\n                </motion.div>\n              )\n            })\n          ) : (\n            <Typography\n              component=\"p\"\n              variant=\"body2\"\n              color=\"textSecondary\"\n            >\n              マッチング中の相手はいません。\n            </Typography>\n          )\n        ) : (\n          <></>\n        )\n      }\n    </>\n  )\n}\n\nexport default ChatRooms\n"]},"metadata":{},"sourceType":"module"}