{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/post/PostComment.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport { createMessage } from \"lib/api/messages\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    margin: \"0 auto\"\n  },\n  formWrapper: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: 340\n  },\n  textInputWrapper: {\n    width: \"100%\"\n  },\n  button: {\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nconst PostComment = props => {\n  _s();\n\n  const classes = useStyles();\n  const [content, setContent] = useState(\"\");\n  const [messages, setMeesages] = useState([]);\n\n  const createFormData = () => {\n    const formData = new FormData(); // formData.append(\"chatRoomId\", String(id))\n    // formData.append(\"userId\", String(currentUser?.id))\n    // formData.append(\"content\", content)\n    // formData.append(\"createdAt\", createdAt)\n\n    return formData;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = createFormData();\n\n    try {\n      const res = await createMessage(data);\n      console.log(res);\n\n      if (res.status === 200) {\n        setMeesages([...messages, res.data.message]);\n        setContent(\"\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justifyContent: \"center\",\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.formWrapper,\n        noValidate: true,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          multiline: true,\n          value: content,\n          onChange: e => setContent(e.target.value),\n          className: classes.textInputWrapper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: !content ? true : false,\n          onClick: handleSubmit,\n          className: classes.button,\n          children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(PostComment, \"7U9JGUmQXPUuytB7gbMCkGGw8Cc=\", false, function () {\n  return [useStyles];\n});\n\n_c = PostComment;\nexport default PostComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostComment\");","map":{"version":3,"sources":["/usr/src/app/src/components/post/PostComment.tsx"],"names":["React","useState","makeStyles","Grid","TextField","Button","SendIcon","createMessage","useStyles","theme","avatar","width","spacing","height","margin","formWrapper","padding","display","alignItems","textInputWrapper","button","marginLeft","PostComment","props","classes","content","setContent","messages","setMeesages","createFormData","formData","FormData","handleSubmit","e","preventDefault","data","res","console","log","status","message","err","marginTop","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { makeStyles, Theme } from \"@material-ui/core/styles\"\nimport { Grid, Typography } from \"@material-ui/core\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport SendIcon from \"@material-ui/icons/Send\"\n\nimport { getChatRoom } from \"lib/api/chat_rooms\"\nimport { createMessage } from \"lib/api/messages\"\nimport { User, MessageData } from \"interfaces/index\"\n\nimport { ChatRoomFormData } from \"interfaces/index\"\n\nimport { AuthContext } from \"App\"\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  avatar: {\n    width: theme.spacing(10),\n    height: theme.spacing(10),\n    margin: \"0 auto\"\n  },\n  formWrapper: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: 340\n  },\n  textInputWrapper: {\n    width: \"100%\"\n  },\n  button: {\n    marginLeft: theme.spacing(1)\n  }\n}))\n\ntype Props = {\n  content: string;\n}\n\n\nconst PostComment: React.FC<Props> = (props) => {\n  const classes = useStyles()\n\n  const [content, setContent] = useState<string>(\"\")\n  const [messages, setMeesages] = useState<MessageData[]>([])\n\n\n  const createFormData = (): ChatRoomFormData => {\n    const formData = new FormData()\n\n    // formData.append(\"chatRoomId\", String(id))\n    // formData.append(\"userId\", String(currentUser?.id))\n    // formData.append(\"content\", content)\n    // formData.append(\"createdAt\", createdAt)\n\n    return formData\n  }\n\n  const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault()\n\n    const data = createFormData()\n\n    try {\n      const res = await createMessage(data)\n      console.log(res)\n\n      if (res.status === 200) {\n        setMeesages([...messages, res.data.message])\n        setContent(\"\")\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  return (\n    <>\n      {\n        <Grid container justifyContent=\"center\" style={{ marginTop: \"2rem\" }}>\n          <form className={classes.formWrapper} noValidate autoComplete=\"off\">\n            <TextField\n              required\n              multiline\n              value={content}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setContent(e.target.value)}\n              className={classes.textInputWrapper}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!content ? true : false}\n              onClick={handleSubmit}\n              className={classes.button}\n            >\n              <SendIcon />\n            </Button>\n          </form>\n        </Grid>\n      }\n    </>\n  )\n}\nexport default PostComment\n"]},"metadata":{},"sourceType":"module"}